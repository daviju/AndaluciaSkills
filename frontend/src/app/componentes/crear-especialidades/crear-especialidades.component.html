<div class="page-container">
  <div class="content-card">
    <div class="content-header">
      <h2>{{isEditing ? 'Editar' : 'Nueva'}} Especialidad</h2>
      <p>{{isEditing ? 'Modificar una especialidad existente' : 'Crear una nueva especialidad'}} en AndaluciaSkills</p>
    </div>

    <form [formGroup]="especialidadForm" (ngSubmit)="onSubmit()" class="needs-validation">
      <div class="mb-3">
        <label for="nombre" class="form-label">Nombre</label>
        <input
          type="text"
          class="form-control"
          id="nombre"
          formControlName="nombre"
          [ngClass]="{'is-invalid': especialidadForm.get('nombre')?.invalid && especialidadForm.get('nombre')?.touched}"
        >
        <div class="invalid-feedback" *ngIf="especialidadForm.get('nombre')?.errors?.['required']">
          El nombre es requerido
        </div>
        <div class="invalid-feedback" *ngIf="especialidadForm.get('nombre')?.errors?.['minlength']">
          El nombre debe tener al menos 3 caracteres
        </div>
      </div>

      <div class="mb-3">
        <label for="codigo" class="form-label">Código</label>
        <input
          type="text"
          class="form-control"
          id="codigo"
          formControlName="codigo"
          [ngClass]="{'is-invalid': especialidadForm.get('codigo')?.invalid && especialidadForm.get('codigo')?.touched}"
        >
        <div class="invalid-feedback" *ngIf="especialidadForm.get('codigo')?.errors?.['required']">
          El código es requerido
        </div>
        <div class="invalid-feedback" *ngIf="especialidadForm.get('codigo')?.errors?.['pattern']">
          El código solo puede contener letras mayúsculas y números
        </div>
      </div>

      <div class="d-flex justify-content-end mt-4">
        <button type="button" class="btn btn-secondary me-2" (click)="cancelar()">
          Cancelar
        </button>
        <button 
          type="submit" 
          class="btn btn-primary"
          [disabled]="especialidadForm.invalid || isSubmitting"
        >
          {{isEditing ? 'Actualizar' : 'Crear'}} Especialidad
        </button>
      </div>
    </form>
  </div>
</div>